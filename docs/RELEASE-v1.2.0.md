# v1.2.0 å‘å¸ƒè¯´æ˜

**å‘å¸ƒæ—¥æœŸ**: 2026-02-10  
**æ ‡ç­¾**: [v1.2.0](https://github.com/webmturn/ai-localization/releases/tag/v1.2.0)

---

## ğŸš€ æ¦‚è§ˆ

v1.2.0 æ˜¯ä¸€æ¬¡é‡å¤§æ›´æ–°ï¼ŒåŒ…å«ç¿»è¯‘å¼•æ“æ¶æ„é‡æ„ã€æ€§èƒ½ä¼˜åŒ–å’Œ UI/UX æ”¹è¿›ã€‚

**æ ¸å¿ƒäº®ç‚¹ï¼š**
- ğŸ”Œ å¤šå¼•æ“æ”¯æŒï¼šæ–°å¢ Geminiã€Claude ç¿»è¯‘å¼•æ“
- âš¡ é¦–å±åŠ è½½ä¼˜åŒ–ï¼š106 ä¸ª JS æ–‡ä»¶åˆå¹¶ä¸º 1 ä¸ª bundle
- ğŸ¯ æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼šToast é€šçŸ¥ã€ETA é¢„ä¼°ã€å‹å¥½é”™è¯¯æ¶ˆæ¯

---

## ğŸ”Œ ç¿»è¯‘å¼•æ“æ¶æ„é‡æ„

### EngineRegistry å¼•æ“æ³¨å†Œè¡¨

å¼•å…¥ç»Ÿä¸€çš„å¼•æ“æ³¨å†Œä¸å‘ç°æœºåˆ¶ï¼Œæ‰€æœ‰å¼•æ“é€šè¿‡ `EngineRegistry.register()` æ³¨å†Œé…ç½®ï¼š

| å¼•æ“ | ç±»å‹ | æ‰¹é‡ç¿»è¯‘ | é€Ÿç‡é™åˆ¶ |
|------|------|----------|----------|
| DeepSeek | AI | âœ… | å¯é…ç½® |
| OpenAI (GPT-4o) | AI | âœ… | å¯é…ç½® |
| Gemini (Google AI) | AI | âœ… | 0.25 RPSï¼ˆå…è´¹å±‚ï¼‰ |
| Claude (Anthropic) | AI | âœ… | å¯é…ç½® |
| Google Translate | ä¼ ç»Ÿ | âŒ | å¯é…ç½® |

### å¼•æ“åŸºç±»

- **`AIEngineBase`**ï¼šAI å¼•æ“é€šç”¨åŸºç±»ï¼Œæä¾› `translateSingle` å’Œ `translateBatch`ï¼Œæ”¯æŒ `_transformRequestBody` / `_parseResponseText` é’©å­é€‚é…é OpenAI å…¼å®¹ APIï¼ˆå¦‚ Claudeï¼‰ã€‚
- **`TraditionalEngineBase`**ï¼šä¼ ç»Ÿç¿»è¯‘å¼•æ“åŸºç±»ï¼ˆGoogle Translateï¼‰ã€‚

### é€Ÿç‡é™åˆ¶å¢å¼º

- Promise é˜Ÿåˆ—ä¸²è¡ŒåŒ–ï¼Œé¿å…å¹¶å‘ç«æ€
- `reportRateLimit()` å…±äº«å†·å´æœºåˆ¶ï¼š429 é”™è¯¯æ—¶å…¨å±€é˜»å¡åŒå¼•æ“åç»­è¯·æ±‚
- è§£æ `Retry-After` HTTP å¤´ï¼ˆå•æ¡ + æ‰¹é‡åŒè·¯å¾„ï¼‰
- åŒºåˆ† quota-exceededï¼ˆä¸å¯é‡è¯•ï¼‰ä¸ rate-limitï¼ˆå¯é‡è¯•ï¼‰
- æ‰¹é‡ç¿»è¯‘å¹¶å‘æ•°è‡ªåŠ¨å—é™äºå¼•æ“ `rateLimitPerSecond`

---

## âš¡ æ€§èƒ½ä¼˜åŒ–

### JS Bundle æ‰“åŒ…

**é—®é¢˜**ï¼š106 ä¸ª JS æ–‡ä»¶ä¸²è¡ŒåŠ è½½ï¼ˆonload â†’ nextï¼‰ï¼Œé¦–å±ç™½å± 3-5 ç§’ã€‚

**æ–¹æ¡ˆ**ï¼š`scripts/build-bundle.js` å°†æ‰€æœ‰è„šæœ¬åˆå¹¶ä¸ºå•ä¸ª `public/app.bundle.js`ï¼ˆ~921 KBï¼‰ã€‚

```bash
# ä¸€é”®æ„å»º
npm run build

# æˆ–åˆ†åˆ«æ„å»º
npm run build-css      # Tailwind CSS
npm run build-bundle   # JS Bundle
```

**åŠ è½½ç­–ç•¥**ï¼š`index.html` ä¼˜å…ˆåŠ è½½ `app.bundle.js`ï¼Œä¸å­˜åœ¨åˆ™è‡ªåŠ¨å›é€€åˆ° `app.js` é€ä¸ªåŠ è½½ã€‚

**æŠ€æœ¯ç»†èŠ‚**ï¼š
- é¡¶å±‚ `const`/`let` è‡ªåŠ¨è½¬æ¢ä¸º `var`ï¼Œé¿å…åˆå¹¶å TDZï¼ˆTemporal Dead Zoneï¼‰é”™è¯¯
- `safeLog` è¾…åŠ©å‡½æ•°æ³¨å…¥åˆ°æ¶æ„åˆå§‹åŒ–ä»£ç å‰
- å¼€å‘æ¨¡å¼è„šæœ¬ï¼ˆ`dev-tools/`ï¼‰è‡ªåŠ¨æ’é™¤

---

## ğŸ¯ UI/UX æ”¹è¿›

### å¼•æ“åˆ‡æ¢ Toast é€šçŸ¥

åœ¨å·¥å…·æ ã€ä¾§è¾¹æ æˆ–è®¾ç½®é¢æ¿åˆ‡æ¢ç¿»è¯‘å¼•æ“æ—¶ï¼Œæ˜¾ç¤º Toast é€šçŸ¥ç¡®è®¤å½“å‰é€‰æ‹©ã€‚

### æ‰¹é‡ç¿»è¯‘ ETA é¢„ä¼°

æ‰¹é‡ç¿»è¯‘è¿›åº¦å›è°ƒä¸­å¢åŠ  ETA é¢„ä¼°ï¼Œæ˜¾ç¤º"é¢„è®¡å‰©ä½™ Xm Xs"ã€‚

### ç”¨æˆ·å‹å¥½é”™è¯¯æ¶ˆæ¯

| åŸå§‹é”™è¯¯ | ç”¨æˆ·çœ‹åˆ°çš„æ¶ˆæ¯ |
|----------|---------------|
| 401 / 403 | "API å¯†é’¥æ— æ•ˆæˆ–æœªé…ç½®ï¼Œè¯·æ£€æŸ¥è®¾ç½®" |
| quota exceeded | "API é…é¢å·²ç”¨å®Œï¼Œè¯·æ£€æŸ¥è´¦æˆ·ä½™é¢" |
| 429 rate limit | "è¯·æ±‚è¿‡äºé¢‘ç¹ï¼Œæ­£åœ¨è‡ªåŠ¨ç­‰å¾…åé‡è¯•â€¦" |

### è®¾ç½®é¢æ¿å¼•æ“-æ¨¡å‹è”åŠ¨

åˆ‡æ¢å¼•æ“åï¼Œæ¨¡å‹ä¸‹æ‹‰æ¡†è‡ªåŠ¨é‡å»ºä¸ºå¯¹åº”å¼•æ“çš„å¯é€‰æ¨¡å‹åˆ—è¡¨ã€‚

---

## ğŸ“ æ–‡ä»¶å˜æ›´ç»Ÿè®¡

- **47 ä¸ªæ–‡ä»¶å˜æ›´**
- **2,450 è¡Œæ–°å¢** / **1,486 è¡Œåˆ é™¤**
- **13 ä¸ªæ–‡æ¡£æ›´æ–°**

### æ–°å¢æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `scripts/build-bundle.js` | JS æ‰“åŒ…è„šæœ¬ |
| `engines/engine-registry.js` | å¼•æ“æ³¨å†Œè¡¨ |
| `engines/base/ai-engine-base.js` | AI å¼•æ“åŸºç±» |
| `engines/base/traditional-engine-base.js` | ä¼ ç»Ÿå¼•æ“åŸºç±» |
| `engines/providers/gemini.js` | Gemini å¼•æ“ |
| `engines/providers/claude.js` | Claude å¼•æ“ |
| `engines/providers/deepseek.js` | DeepSeek å¼•æ“ï¼ˆé‡ç»„ï¼‰ |
| `engines/providers/openai.js` | OpenAI å¼•æ“ï¼ˆé‡ç»„ï¼‰ |
| `engines/providers/google-translate.js` | Google Translate å¼•æ“ï¼ˆé‡ç»„ï¼‰ |

---

## ğŸ”„ å‡çº§æŒ‡å—

1. **æ‹‰å–æœ€æ–°ä»£ç **
   ```bash
   git pull
   ```

2. **å®‰è£…ä¾èµ–**ï¼ˆå¦‚æœ‰å˜åŒ–ï¼‰
   ```bash
   npm install
   ```

3. **æ„å»º**
   ```bash
   npm run build
   ```

4. åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `public/index.html` éªŒè¯åŠŸèƒ½æ­£å¸¸ã€‚

---

## ğŸ“‹ å·²çŸ¥é™åˆ¶ / åç»­è®¡åˆ’

- **P1**ï¼šè§£æå™¨æ‡’åŠ è½½ï¼ˆ12 ç§è§£æå™¨å…¨é‡åŠ è½½ï¼Œæµªè´¹çº¦ 30% å¸¦å®½ï¼‰
- **P2**ï¼šç¿»è¯‘åˆ—è¡¨è™šæ‹Ÿæ»šåŠ¨ï¼ˆ1000+ æ¡æ—¶ DOM å¡é¡¿ï¼‰
