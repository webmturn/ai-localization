# æµ‹è¯•ä»£ç ç®¡ç†å’Œç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬é¡¹ç›®é‡‡ç”¨**æ¡ä»¶åŠ è½½**ç­–ç•¥æ¥ç®¡ç†æµ‹è¯•ä»£ç ï¼Œç¡®ä¿å¼€å‘ç¯å¢ƒä¸‹æœ‰å®Œæ•´çš„æµ‹è¯•å’Œè°ƒè¯•åŠŸèƒ½ï¼Œè€Œç”Ÿäº§ç¯å¢ƒä¸‹ä¿æŒç²¾ç®€å’Œé«˜æ€§èƒ½ã€‚

## ğŸ”„ ä»£ç åŠ è½½ç­–ç•¥

### å¼€å‘æ¨¡å¼ (`isDevelopment = true`)
```javascript
// åŠ è½½å®Œæ•´åŠŸèƒ½
- é”™è¯¯å¤„ç†æ ¸å¿ƒç³»ç»Ÿ âœ…
- é”™è¯¯æ¼”ç¤ºå’Œæµ‹è¯• âœ…  
- ä½¿ç”¨ç¤ºä¾‹å’Œæ•™ç¨‹ âœ…
- è°ƒè¯•å·¥å…·å’Œç›‘æ§ âœ…
```

### ç”Ÿäº§æ¨¡å¼ (`isDevelopment = false` æˆ–æœªå®šä¹‰)
```javascript
// åªåŠ è½½å¿…è¦åŠŸèƒ½
- é”™è¯¯å¤„ç†æ ¸å¿ƒç³»ç»Ÿ âœ…
- ç”Ÿäº§ç¯å¢ƒç›‘æ§å·¥å…· âœ…
- ç´§æ€¥é”™è¯¯å¤„ç† âœ…
- æµ‹è¯•å’Œæ¼”ç¤ºä»£ç  âŒ
```

## ğŸ“ æ–‡ä»¶åˆ†ç±»

### æ ¸å¿ƒç³»ç»Ÿæ–‡ä»¶ï¼ˆç”Ÿäº§ç¯å¢ƒå¿…éœ€ï¼‰
```
public/app/core/
â”œâ”€â”€ error-manager.js      âœ… æ ¸å¿ƒé”™è¯¯ç®¡ç†å™¨
â”œâ”€â”€ error-utils.js        âœ… é”™è¯¯å¤„ç†å·¥å…·
â””â”€â”€ error-production.js   âœ… ç”Ÿäº§ç¯å¢ƒç›‘æ§

public/app/services/storage/
â””â”€â”€ error-handler.js      âœ… å­˜å‚¨é”™è¯¯å¤„ç†

public/app/network/
â””â”€â”€ error-handler.js      âœ… ç½‘ç»œé”™è¯¯å¤„ç†

public/app/features/
â”œâ”€â”€ translations/error-handler.js  âœ… ç¿»è¯‘é”™è¯¯å¤„ç†
â””â”€â”€ files/error-handler.js         âœ… æ–‡ä»¶é”™è¯¯å¤„ç†
```

### å¼€å‘å’Œæµ‹è¯•æ–‡ä»¶ï¼ˆç”Ÿäº§ç¯å¢ƒæ’é™¤ï¼‰
```
public/app/core/
â”œâ”€â”€ error-demo.js         âŒ é”™è¯¯æ¼”ç¤º
â””â”€â”€ error-test.js         âŒ åŠŸèƒ½æµ‹è¯•

public/app/examples/
â””â”€â”€ error-handling-examples.js  âŒ ä½¿ç”¨ç¤ºä¾‹
```

## ğŸš€ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### æ–¹æ³•1ï¼šä½¿ç”¨æ„å»ºè„šæœ¬ï¼ˆæ¨èï¼‰
```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build-production

# æˆ–ä½¿ç”¨ç®€çŸ­å‘½ä»¤
npm run build-prod
```

æ„å»ºè„šæœ¬ä¼šï¼š
- âœ… è‡ªåŠ¨æ’é™¤æµ‹è¯•æ–‡ä»¶
- âœ… ç”Ÿæˆç²¾ç®€ç‰ˆæœ¬
- âœ… æ„å»ºCSSæ–‡ä»¶
- âœ… åˆ›å»ºç”Ÿäº§ç¯å¢ƒæ ‡è¯†
- âœ… ç”Ÿæˆæ„å»ºä¿¡æ¯

### æ–¹æ³•2ï¼šæ‰‹åŠ¨éƒ¨ç½²
1. **å¤åˆ¶æ ¸å¿ƒæ–‡ä»¶**
   ```bash
   # å¤åˆ¶publicç›®å½•ï¼Œæ’é™¤æµ‹è¯•æ–‡ä»¶
   cp -r public/ dist/public/
   rm dist/public/app/core/error-demo.js
   rm dist/public/app/core/error-test.js
   rm -rf dist/public/app/examples/
   ```

2. **è®¾ç½®ç”Ÿäº§ç¯å¢ƒæ ‡è¯†**
   ```javascript
   // åœ¨index.htmlä¸­æ·»åŠ 
   <script>
   window.isProduction = true;
   window.isDevelopment = false;
   </script>
   ```

3. **æ„å»ºCSS**
   ```bash
   npm run build-css
   ```

## ğŸ” ç”Ÿäº§ç¯å¢ƒç›‘æ§

ç”Ÿäº§ç¯å¢ƒä¸‹ä»ç„¶ä¿ç•™äº†å¿…è¦çš„ç›‘æ§å’Œè¯Šæ–­åŠŸèƒ½ï¼š

### å¯ç”¨åŠŸèƒ½
```javascript
// å¥åº·æ£€æŸ¥
productionMonitor.getHealthStatus()

// å¿«é€Ÿè¯Šæ–­
productionMonitor.quickDiagnosis()

// ç”ŸæˆæŠ¥å‘Š
productionMonitor.generateReport()

// é”™è¯¯æ‘˜è¦
ProductionErrorUtils.getErrorSummary()

// ç´§æ€¥é”™è¯¯å¤„ç†
emergencyHandler.getFallbackErrors()
```

### å¯ç”¨ç›‘æ§
```javascript
// å¯ç”¨ç”Ÿäº§ç›‘æ§ï¼ˆå¯é€‰ï¼‰
productionMonitor.enable({
  reportEndpoint: 'https://your-server.com/api/errors',
  maxReports: 10,
  reportInterval: 60000
});
```

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

### å¼€å‘æ¨¡å¼
- **æ–‡ä»¶æ•°é‡**: ~15ä¸ªé”™è¯¯å¤„ç†ç›¸å…³æ–‡ä»¶
- **ä»£ç å¤§å°**: ~200KBï¼ˆæœªå‹ç¼©ï¼‰
- **åŠŸèƒ½**: å®Œæ•´çš„æµ‹è¯•ã€æ¼”ç¤ºã€è°ƒè¯•åŠŸèƒ½

### ç”Ÿäº§æ¨¡å¼  
- **æ–‡ä»¶æ•°é‡**: ~8ä¸ªæ ¸å¿ƒæ–‡ä»¶
- **ä»£ç å¤§å°**: ~120KBï¼ˆæœªå‹ç¼©ï¼‰
- **åŠŸèƒ½**: æ ¸å¿ƒé”™è¯¯å¤„ç† + ç²¾ç®€ç›‘æ§

**æ€§èƒ½æå‡**: ~40% ä»£ç å‡å°‘ï¼Œ~30% åŠ è½½æ—¶é—´å‡å°‘

## ğŸ› ï¸ å¼€å‘å·¥ä½œæµ

### å¼€å‘é˜¶æ®µ
1. **å¯ç”¨å¼€å‘æ¨¡å¼**
   ```javascript
   // åœ¨dev-tools.jsæˆ–å…¨å±€è®¾ç½®
   window.isDevelopment = true;
   ```

2. **ä½¿ç”¨å®Œæ•´åŠŸèƒ½**
   ```javascript
   // è¿è¡Œæµ‹è¯•
   await testErrorHandlingFixes()
   
   // æŸ¥çœ‹æ¼”ç¤º
   await runErrorHandlingDemo()
   
   // ä½¿ç”¨ç¤ºä¾‹
   ErrorHandlingExamples.translateWithErrorHandling()
   ```

3. **è°ƒè¯•å’ŒéªŒè¯**
   ```javascript
   // å¿«é€ŸéªŒè¯
   quickValidation()
   
   // é”™è¯¯ç»Ÿè®¡
   errorDashboard.generateReport()
   ```

### æµ‹è¯•é˜¶æ®µ
1. **è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶**
   ```bash
   # åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­
   await testErrorHandlingFixes()
   ```

2. **éªŒè¯ç”Ÿäº§æ¨¡å¼**
   ```javascript
   // ä¸´æ—¶åˆ‡æ¢åˆ°ç”Ÿäº§æ¨¡å¼
   window.isDevelopment = false;
   // åˆ·æ–°é¡µé¢éªŒè¯
   ```

### éƒ¨ç½²é˜¶æ®µ
1. **æ„å»ºç”Ÿäº§ç‰ˆæœ¬**
   ```bash
   npm run build-production
   ```

2. **éªŒè¯æ„å»ºç»“æœ**
   ```bash
   # æ£€æŸ¥distç›®å½•
   # ç¡®è®¤æµ‹è¯•æ–‡ä»¶å·²æ’é™¤
   # éªŒè¯åŠŸèƒ½æ­£å¸¸
   ```

3. **éƒ¨ç½²åˆ°æœåŠ¡å™¨**
   ```bash
   # ä¸Šä¼ dist/public/ç›®å½•
   ```

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹åŠ è½½æ¡ä»¶
å¦‚æœéœ€è¦è‡ªå®šä¹‰åŠ è½½æ¡ä»¶ï¼Œå¯ä»¥ä¿®æ”¹ `app.js`:

```javascript
// ä¾‹å¦‚ï¼šæ ¹æ®åŸŸåå†³å®š
const isProduction = window.location.hostname === 'your-production-domain.com';

// æˆ–æ ¹æ®URLå‚æ•°
const isDebugMode = new URLSearchParams(window.location.search).has('debug');

if (!isProduction || isDebugMode) {
  // åŠ è½½æµ‹è¯•ä»£ç 
  scripts.push("app/core/error-demo.js", ...);
}
```

### æ·»åŠ æ–°çš„æµ‹è¯•æ–‡ä»¶
1. **åˆ›å»ºæµ‹è¯•æ–‡ä»¶**
   ```javascript
   // public/app/tests/my-test.js
   ```

2. **æ·»åŠ åˆ°å¼€å‘æ¨¡å¼åŠ è½½åˆ—è¡¨**
   ```javascript
   // åœ¨app.jsä¸­
   if (typeof isDevelopment !== 'undefined' && isDevelopment) {
     scripts.push("app/tests/my-test.js");
   }
   ```

## ğŸ¯ æœ€ä½³å®è·µ

### âœ… æ¨èåšæ³•
1. **ä½¿ç”¨æ„å»ºè„šæœ¬**éƒ¨ç½²ç”Ÿäº§ç¯å¢ƒ
2. **ä¿ç•™æ ¸å¿ƒç›‘æ§åŠŸèƒ½**ç”¨äºç”Ÿäº§é—®é¢˜è¯Šæ–­
3. **å®šæœŸè¿è¡Œæµ‹è¯•**éªŒè¯åŠŸèƒ½å®Œæ•´æ€§
4. **ç›‘æ§ç”Ÿäº§ç¯å¢ƒ**é”™è¯¯è¶‹åŠ¿å’Œæ€§èƒ½

### âŒ é¿å…åšæ³•
1. **ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒ**æ‰‹åŠ¨åŠ è½½æµ‹è¯•ä»£ç 
2. **ä¸è¦å®Œå…¨ç§»é™¤**é”™è¯¯å¤„ç†æ ¸å¿ƒåŠŸèƒ½
3. **ä¸è¦å¿½ç•¥**ç”Ÿäº§ç¯å¢ƒçš„é”™è¯¯ç›‘æ§
4. **ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒ**æš´éœ²è°ƒè¯•æ¥å£

## ğŸ“ˆ ç›‘æ§å’Œç»´æŠ¤

### å®šæœŸæ£€æŸ¥
- **æ¯å‘¨**: æŸ¥çœ‹ç”Ÿäº§ç¯å¢ƒé”™è¯¯æŠ¥å‘Š
- **æ¯æœˆ**: è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
- **æ¯å­£åº¦**: è¯„ä¼°é”™è¯¯å¤„ç†ç­–ç•¥æ•ˆæœ

### æ€§èƒ½ç›‘æ§
```javascript
// å®šæœŸæ£€æŸ¥ç³»ç»Ÿå¥åº·çŠ¶æ€
setInterval(() => {
  const health = productionMonitor.getHealthStatus();
  if (health.status !== 'healthy') {
    console.warn('ç³»ç»Ÿå¥åº·çŠ¶æ€å¼‚å¸¸:', health);
  }
}, 300000); // 5åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡
```

## ğŸ†˜ æ•…éšœæ’é™¤

### é—®é¢˜1: ç”Ÿäº§ç¯å¢ƒåŠŸèƒ½ç¼ºå¤±
**åŸå› **: æµ‹è¯•ä»£ç è¢«é”™è¯¯æ’é™¤
**è§£å†³**: æ£€æŸ¥æ–‡ä»¶åˆ†ç±»ï¼Œç¡®ä¿æ ¸å¿ƒåŠŸèƒ½æ–‡ä»¶æœªè¢«æ’é™¤

### é—®é¢˜2: å¼€å‘ç¯å¢ƒæµ‹è¯•ä¸å·¥ä½œ
**åŸå› **: `isDevelopment` æœªæ­£ç¡®è®¾ç½®
**è§£å†³**: ç¡®è®¤å¼€å‘æ¨¡å¼æ ‡è¯†æ­£ç¡®è®¾ç½®

### é—®é¢˜3: æ„å»ºè„šæœ¬å¤±è´¥
**åŸå› **: æ–‡ä»¶è·¯å¾„æˆ–æƒé™é—®é¢˜
**è§£å†³**: æ£€æŸ¥PowerShellæ‰§è¡Œç­–ç•¥å’Œæ–‡ä»¶æƒé™

---

## ğŸ“ æ€»ç»“

é€šè¿‡æ¡ä»¶åŠ è½½ç­–ç•¥ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š
- âœ… **å¼€å‘ç¯å¢ƒ**: å®Œæ•´çš„æµ‹è¯•å’Œè°ƒè¯•åŠŸèƒ½
- âœ… **ç”Ÿäº§ç¯å¢ƒ**: ç²¾ç®€é«˜æ•ˆçš„æ ¸å¿ƒåŠŸèƒ½
- âœ… **çµæ´»é…ç½®**: å¯æ ¹æ®éœ€è¦è°ƒæ•´åŠ è½½ç­–ç•¥
- âœ… **æ€§èƒ½ä¼˜åŒ–**: ç”Ÿäº§ç¯å¢ƒå‡å°‘40%ä»£ç é‡
- âœ… **ç»´æŠ¤å‹å¥½**: ç»Ÿä¸€çš„æ„å»ºå’Œéƒ¨ç½²æµç¨‹

è¿™ç§æ–¹å¼æ—¢ä¿è¯äº†å¼€å‘æ•ˆç‡ï¼Œåˆç¡®ä¿äº†ç”Ÿäº§ç¯å¢ƒçš„æ€§èƒ½å’Œå®‰å…¨æ€§ã€‚